(()=>{var e=[.2,.5,1],t=["Topper","Booster","Full"],n=[300,900,2500,5e3],o=[5,15,42,84],l=["300g","900g","2.5kg","5kg"],a=["main","quantity","weeks","details"],s="AGE\t\tWEIGHT,False,5 - 10,False, 30,False, 30+,True, 5 - 10,True, 30,True, 30+\n1 - 4 months,1 kilo,0.50,0.50,0.50,0.50,0.50,0.50\n1 - 4 months,2.5 kilos,1.50,1.50,1.50,1.50,1.50,1.50\n1 - 4 months,5 kilos,2.25,2.25,2.25,2.25,2.25,2.25\n1 - 4 months,7.5 kilos,2.75,2.75,2.75,2.75,2.75,2.75\n1 - 4 months,10 kilos,3.50,3.50,3.50,3.50,3.50,3.50\n1 - 4 months,15 kilos,5.00,5.00,5.00,5.00,5.00,5.00\n1 - 4 months,20 kilos,6.25,6.25,6.25,6.25,6.25,6.25\n1 - 4 months,25 kilos,6.25,6.25,6.25,6.25,6.25,6.25\n1 - 4 months,30 kilos,6.25,6.25,6.25,6.25,6.25,6.25\n1 - 4 months,35 kilos,6.25,6.25,6.25,6.25,6.25,6.25\n1 - 4 months,40 kilos,6.25,6.25,6.25,6.25,6.25,6.25\n5 - 12 months,1 kilo,0.50,0.50,0.50,0.50,0.50,0.50\n5 - 12 months,2.5 kilos,1.00,1.00,1.00,1.00,1.00,1.00\n5 - 12 months,5 kilos,1.50,1.50,1.50,1.50,1.50,1.50\n5 - 12 months,7.5 kilos,1.75,1.75,1.75,1.75,1.75,1.75\n5 - 12 months,10 kilos,2.25,2.25,2.25,2.25,2.25,2.25\n5 - 12 months,15 kilos,3.25,3.25,3.25,3.25,3.25,3.25\n5 - 12 months,20 kilos,4.25,4.25,4.25,4.25,4.25,4.25\n5 - 12 months,25 kilos,5.25,5.25,5.25,5.25,5.25,5.25\n5 - 12 months,30 kilos,5.25,5.25,5.25,5.25,5.25,5.25\n5 - 12 months,35 kilos,5.25,5.25,5.25,5.25,5.25,5.25\n5 - 12 months,40 kilos,5.25,5.25,5.25,5.25,5.25,5.25\n1 - 10 years,1 kilo,0.50,1.00,1.25,0.25,0.50,0.75\n1 - 10 years,2.5 kilos,1.00,1.25,1.50,0.75,0.75,1.00\n1 - 10 years,5 kilos,1.25,1.50,1.75,1.00,1.25,1.50\n1 - 10 years,7.5 kilos,1.75,2.00,2.25,1.50,1.75,2.00\n1 - 10 years,10 kilos,2.00,2.25,2.50,1.75,2.00,2.25\n1 - 10 years,15 kilos,2.75,3.00,3.50,2.50,2.75,3.00\n1 - 10 years,20 kilos,3.50,4.00,4.50,3.25,3.50,3.75\n1 - 10 years,25 kilos,4.25,4.50,5.00,4.00,4.25,4.50\n1 - 10 years,30 kilos,5.00,5.50,6.00,4.50,4.75,5.00\n1 - 10 years,35 kilos,5.75,6.00,6.50,5.00,5.25,5.75\n1 - 10 years,40 kilos,6.50,6.50,7.00,5.50,6.00,6.25\n10+ years,1 kilo,0.00,0.50,0.75,0.00,0.50,0.75\n10+ years,2.5 kilos,0.75,0.75,1.00,0.75,0.75,1.00\n10+ years,5 kilos,1.00,1.25,1.50,1.00,1.25,1.50\n10+ years,7.5 kilos,1.50,1.75,2.00,1.50,1.75,2.00\n10+ years,10 kilos,1.75,2.00,2.25,1.75,2.00,2.25\n10+ years,15 kilos,2.50,2.75,3.00,2.50,2.75,3.00\n10+ years,20 kilos,3.25,3.50,3.75,3.25,3.50,3.75\n10+ years,25 kilos,4.00,4.25,4.50,4.00,4.25,4.50\n10+ years,30 kilos,4.50,4.75,5.00,4.50,4.75,5.00\n10+ years,35 kilos,5.00,5.25,5.75,5.00,5.25,5.75\n10+ years,40 kilos,5.50,6.00,6.25,5.50,6.00,6.25".split("\n");function c(e){var t;!function(e,t){const n=t.split("-")[0];var o,l,a;for(l=document.getElementsByClassName(n+"-tab"),o=0;o<l.length;o++)l[o].style.display="none";for(a=document.getElementsByClassName(n+"-tab-button"),o=0;o<a.length;o++)a[o].className=a[o].className.replaceAll(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active",r()}(e,this.dataset.tab),this.hasAttribute("data-emailfield")&&(t=this.dataset.emailfield,document.getElementById(t).focus()),this.hasAttribute("data-scrollto")&&document.getElementById("calc_progress").scrollIntoView({alignToTop:!0,behavior:"smooth",inline:"start"})}function r(){var a,c,r=document.getElementById("popover-variant-dropdown-template--age-selected-value").innerText,i=document.getElementById("popover-variant-dropdown-template--weight-selected-value").innerText,u=document.getElementById("popover-variant-dropdown-template--activity-selected-value").innerText,m=document.getElementById("popover-variant-dropdown-template--desexed-selected-value").innerText;console.log("UPDATE AMOUNTS"),a=function(e,t,n,o){console.log(e,t,n,o);const l=s.filter((t=>t.includes(e))).filter((e=>1==e.includes(t)));console.log("Weight Filter",l);var a=0;n.includes("Yes")&&(a=3);var c=0;switch(o){case"1 - 10 mins":default:c=0;break;case"30 mins":c=1;break;case"30+ mins":c=2}if(l.length>0){const e=l[0].split(",");return e.length>=2+c+a?parseFloat(e[2+c+a]):(console.log("Data not found for the specified criteria."),null)}return console.log("No matching records found."),null}(r,i,m,u),document.getElementById("full_diet_calc"),document.getElementById("booster_diet_calc"),document.getElementById("topper_diet_calc"),document.getElementById("week-tabs"),c=a,n.forEach((a=>{var s,r,i;s=a,r=c,i=document.querySelectorAll(".quantity-step-indicator.active h4")[0].innerText.split(" ")[0],console.log(i),document.querySelectorAll(".calc_days").forEach((e=>{e.style.display="none"})),t.filter((e=>e==i)).forEach((a=>{var c=document.querySelectorAll(".calc_days_"+s+"_"+a),i=document.getElementById(`${a}_diet_days`);i.innerText="",function(e,t){if(e>=1){var n=document.createElement("span");if(n.innerText=Math.floor(e),t.append(n),e%1==0);else{n.classList.add("integer");var o=document.createElement("span");o.classList.add("fraction"),o.innerText=d(e-Math.floor(e)).display,n.append(o)}t.append(" cups/day")}else t.append(d(e).display+" cup/day")}(r*e[t.indexOf(a)],i),c.forEach((c=>{c.querySelectorAll(".feed_amount_name")[0].innerText=a,c.querySelectorAll(".feed_amount_name")[0].dataset.feed_amount_name=a,c.querySelectorAll(".feed_amount_name")[0].style.display="none",c.querySelectorAll(".package_size")[0].innerText=l[n.indexOf(s)],c.querySelectorAll(".number_of_days")[0].innerText=o[n.indexOf(s)]/(r*e[t.indexOf(a)]),async function(e,t){fetch(window.Shopify.routes.root+"collections/calculator/products.json").then((e=>e.json())).then((n=>{t.innerText=n.products[0].variants[e].price}))}(n.indexOf(s),c.querySelectorAll(".package_price")[0]),c.style.display="block"}))}))}))}function i(e,t){return t?i(t,e%t):e}function d(e){var t=(Math.ceil(4*e)/4).toFixed(2).toString().replace(/\d+[.]/,"");e<.25&&(t=(Math.ceil(10*e)/10).toFixed(2).toString().replace(/\d+[.]/,""));var n=Math.pow(10,t.length);e>1&&(t=+t+Math.floor(e)*n);var o=i(t,n);return{top:t/o,bottom:n/o,display:t/o+"/"+n/o}}function u(e){e.preventDefault();const t=new FormData(e.target),n=Object.fromEntries(t.entries());console.log("dbgject",n),p("calculator_customer_id",n.email),m(n.name),async function(e){const t=calculator_app_url+"/update-pets.json";(await fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})).json()}(n),document.getElementById("main-calc-stepper-2").click()}function m(e){var t=document.querySelectorAll(".dogname"),n=e||"your dog";t.forEach((e=>e.innerText=n))}function p(e,t){const n=new Date,o=`expires=${new Date(n.getTime()+2592e6).toUTCString()}`;document.cookie=`${e}=${t}; ${o}; path=/`}function y(e,t){console.log("----- GET PRODUCTS ------"),fetch(window.Shopify.routes.root+"collections/calculator/products.json").then((e=>e.json())).then((n=>function(e,t,n){const o=document.getElementById("products-list");o.innerHTML="";const l=document.createElement("div");l.classList.add("calculator_products");var a=e.filter((e=>e.tags.some((e=>e==t))&&e.tags.some((e=>e==n))));console.log("Filtered Products",a),a.forEach((e=>{const t=document.createElement("div");e.tags.forEach((e=>{var n;t.classList.add(`calc-${n=e,n.trim().toLowerCase().replace(/[^a-zA-Z0-9 -]/,"").replace(/\s/g,"-")}`)})),t.classList.add("calculator_product");const n=e.images[0]?e.images[0].src:"";t.innerHTML=`<div class="calculator_product_img"><img src="${n}" />${e.title}</div>`,e.variants.forEach((e=>{var n=document.createElement("div");n.classList.add("calculator_product_variant"),n.append(e.title),n.append(e.price),t.append(n)})),l.appendChild(t)})),o.appendChild(l)}(n.products,e,t)))}window.addEventListener("load",(()=>{if(function(){console.log("%c ==Check is FEED CALCULATOR PAGE==","background: #222; color: #bada55");var e=document.getElementById("feeding_calculator");return void 0!==e&&null!=e}()){console.log("%c ====LOAD CALCULATOR=====","background: #222; color: #bada55");const n=function(){const e="calculator_customer_id",t=function(e){const t=document.cookie.split(";");var n="--not-set--";for(const o of t){const[t,l]=o.trim().split("=");t===e&&(console.log("CV",e,t,l),n=l)}return n}(e);if(console.log("Exisitng Value",t),null===t){console.log("No Cookie Found");const t=(new Date).toISOString();return p(e,t),t}return console.log("Cookie Found",t),t}();console.log("Cookie result:",n);var e=document.getElementById("active_tab").dataset.tab;document.getElementById("main-calc-step-"+e).style.display="block",a.forEach((e=>{document.querySelectorAll("."+e+"-tab-button").forEach((e=>{e.addEventListener("click",c)}))})),fetch(calculator_app_url+"/pets.json?customer_email="+n).then((e=>e.json())).then((e=>function(e){const t=document.getElementById("pets-list");t.innerHTML="",e.forEach((e=>{const n=document.createElement("li");n.innerHTML=`<div>${e.name},${e.age},${e.breed},${e.activity_level}</div>`,t.appendChild(n)}))}(e))),y("Beef","Adult"),document.getElementById("flavor_picker").querySelectorAll(".flavor").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault(),y(e.dataset.flavor,"Adult")}))})),r(),(t=document.getElementById("name-input")).onkeyup=function(){m(t.value)},document.getElementById("pet-form").addEventListener("submit",u)}else console.log("%c =====NOT FEEDING CALCULATOR======","background: #222; color: #bada55");var t}))})();